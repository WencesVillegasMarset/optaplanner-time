<?xml version="1.0" encoding="UTF-8"?>
<solver>
    <!--<environmentMode>FULL_ASSERT</environmentMode>--><!-- To slowly prove there are no bugs in this code -->
    <!--<moveThreadCount>AUTO</moveThreadCount>--><!-- To solve faster by saturating multiple CPU cores -->

    <solutionClass>org.optaplanner.examples.audienciaTimeGrain.domain.AudienciaSchedule</solutionClass>
    <entityClass>org.optaplanner.examples.audienciaTimeGrain.domain.AudienciaAssignment</entityClass>
    <!--  <scanAnnotatedClasses/>-->

    <scoreDirectorFactory>
    <scoreDrl>org/optaplanner/examples/audienciaTimeGrain/solver/audienciaTimeGrainScoreRules.drl</scoreDrl>
    <initializingScoreTrend>ONLY_DOWN</initializingScoreTrend>
    </scoreDirectorFactory>

    <constructionHeuristic>
    <!--    <constructionHeuristicType>FIRST_FIT</constructionHeuristicType>-->
    <constructionHeuristicType>FIRST_FIT_DECREASING</constructionHeuristicType>


    <changeMoveSelector>
      <valueSelector variableName="startingTimeGrain"/>
    </changeMoveSelector>
    <changeMoveSelector>
      <valueSelector variableName="room"/>
    </changeMoveSelector>

    </constructionHeuristic>

    <localSearch>
        <localSearchType>TABU_SEARCH</localSearchType>

        <termination>
          <unimprovedSecondsSpentLimit>120</unimprovedSecondsSpentLimit>
          <unimprovedScoreDifferenceThreshold>[0/0]hard/[5/0/0]soft</unimprovedScoreDifferenceThreshold>
          <minutesSpentLimit>7</minutesSpentLimit>
        </termination>
    </localSearch>

<!--    <localSearch>-->
<!--        <termination>-->
<!--            <minutesSpentLimit>1</minutesSpentLimit>-->
<!--        </termination>-->
<!--    </localSearch>-->

</solver>
