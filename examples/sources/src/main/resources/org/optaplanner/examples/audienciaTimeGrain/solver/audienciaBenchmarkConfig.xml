<?xml version="1.0" encoding="UTF-8"?>
<plannerBenchmark>
    <benchmarkDirectory>data/benchmark</benchmarkDirectory>

    <inheritedSolverBenchmark>
        <problemBenchmarks>
            <solutionFileIOClass>org.optaplanner.examples.audienciaTimeGrain.app.ExcelSolutionFileIO</solutionFileIOClass>
            <inputSolutionFile>data/unsolved/2019-8-2.xlsx</inputSolutionFile>
            <writeOutputSolutionEnabled>true</writeOutputSolutionEnabled>
        </problemBenchmarks>
        <solver>
            <solutionClass>org.optaplanner.examples.audienciaTimeGrain.domain.AudienciaSchedule</solutionClass>
            <entityClass>org.optaplanner.examples.audienciaTimeGrain.domain.AudienciaAssignment</entityClass>

            <scoreDirectorFactory>
                <scoreDrl>org/optaplanner/examples/audienciaTimeGrain/solver/audienciaTimeGrainScoreRules.drl</scoreDrl>
                <initializingScoreTrend>ONLY_DOWN</initializingScoreTrend>
            </scoreDirectorFactory>

            <constructionHeuristic>
                <constructionHeuristicType>FIRST_FIT</constructionHeuristicType>
                <changeMoveSelector>
                    <valueSelector variableName="startingTimeGrain"/>
                </changeMoveSelector>
                <changeMoveSelector>
                    <valueSelector variableName="room"/>
                </changeMoveSelector>
            </constructionHeuristic>
        </solver>
    </inheritedSolverBenchmark>

    <solverBenchmark>
        <name>Late Acceptance</name>
        <solver>
            <localSearch>
                <termination>
                    <unimprovedSecondsSpentLimit>120</unimprovedSecondsSpentLimit>
                    <unimprovedScoreDifferenceThreshold>0hard/0medium/1000soft</unimprovedScoreDifferenceThreshold>
                    <minutesSpentLimit>7</minutesSpentLimit>
                </termination>
            </localSearch>
        </solver>
    </solverBenchmark>
    <solverBenchmark>
        <name>Tabu Search</name>
        <solver>
            <localSearch>
                    <localSearchType>TABU_SEARCH</localSearchType>
                <termination>
                    <unimprovedSecondsSpentLimit>120</unimprovedSecondsSpentLimit>
                    <unimprovedScoreDifferenceThreshold>0hard/0medium/1000soft</unimprovedScoreDifferenceThreshold>
                    <minutesSpentLimit>7</minutesSpentLimit>
                </termination>
            </localSearch>
        </solver>
    </solverBenchmark>
</plannerBenchmark>